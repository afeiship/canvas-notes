<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>WrapText</title>
    <style>
    canvas{
      border:2px solid seagreen;
      margin: 0 auto;
      font-size: 14px;
      /* display: block; */
    }
    </style>
  </head>
  <body>
    <h2>清晰的Canvas且自带WrapText</h2>
    <canvas id="my_canvas" width="540" height="180"></canvas>
    <script src="canvas.js"></script>
    <script type="text/javascript">
      // 获取像素比
      var getPixelRatio = function(context) {
        var backingStore =
          context.backingStorePixelRatio ||
          context.webkitBackingStorePixelRatio ||
          context.mozBackingStorePixelRatio ||
          context.msBackingStorePixelRatio ||
          context.oBackingStorePixelRatio ||
          context.backingStorePixelRatio ||
          1;
        return (window.devicePixelRatio || 1) / backingStore;
      };
      //画文字
      var myCanvas = document.getElementById('my_canvas');
      var context = myCanvas.getContext('2d');
      var ratio = getPixelRatio(context);

      myCanvas.style.width = myCanvas.width + 'px';
      myCanvas.style.height = myCanvas.height + 'px';

      myCanvas.width = myCanvas.width * ratio;
      myCanvas.height = myCanvas.height * ratio;

      // 放大倍数
      context.scale(ratio, ratio);

      context.font = '16px Georgia';
      context.fillStyle = '#333';
      // context.fillText('清晨醒来，打开窗帘，一抹慵懒的阳光照进来!', 0, 50);
      context.wrapText('清晨醒来，打开窗帘，一抹慵懒的阳光照进来，暖暖的，柔柔的，时光瞬间变得温婉静美，打开音乐，沏一杯花茶，躺在床上，暖阳淼淼，茶香淡淡，音乐袅袅，闭上眼睛，嘴角轻轻上扬，算是对着光阴的镜子，和自己撒个娇。', 10, 50);
    </script>
  </body>
</html>
